#!/usr/bin/env zsh
DOTFILES=${DOTFILES:-$HOME/.config/dotfiles}

if [[ ! -d $DOTFILES ]]; then
  git clone --recursive git@github.com:mattmc3/dotfiles.git $DOTFILES
fi

cd $DOTFILES
stow --verbose --dotfiles --target=$HOME/.config .config

cd $HOME
for file in bin .bashrc .bash_profile .vimrc .zshenv; do
  [[ -e $HOME/$file ]] || ln -sf ${DOTFILES##$HOME/}/$file $HOME/$file
done

unset file
